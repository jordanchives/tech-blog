<div class="container">
  <div class="row">
    <div class="col">
      <div class="card m-2">
        <div
          class="card-header d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center"
        >
          <div class="d-flex flex-column">
            <p class="mb-2 mb-md-0"><h3>{{title}}</h3></p>
            <p class="mb-2 mb-md-0">{{user.username}}</p>
          </div>
          <p class="mb-0">{{formatDate created_at}}</p>
        </div>
        <div class="card-body">
          <p class="card-text">{{content}}</p>
        </div>
      </div>
    </div>
  </div>
  {{#if comments.length}}
  <div class="row">
    <div class="col">
      <div class="card m-2">
        <div class="card-header">Comments</div>
          <div class="card-body">
            <ul class="list-group">
              {{#each comments}}
                  {{> comment}}
              {{/each}}
              </ul>
          </div>
        </div>
      </div>
    </div>
    {{/if}}
    {{#if loggedIn}}
    <div class="row">
      <div class="col">
        <div class="card m-2">
          <div class="card-header">Add Comment</div>
          <div class="card-body">
            <form id="comment-form">
              <div class="mb-3">
                <label for="content" class="form-label">Comment</label>
                <textarea class="form-control" id="content" name="content" rows="3"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/comment.js"></script>
    {{/if}}
</div>
